/*!
 * upmouse version 0.1.0
 * source at https://github.com/EmeraldBlock/shapez.io-mods
 */(()=>{"use strict";const e={website:"https://emeraldblock.github.io/",author:"Emerald Block",name:"Drag, don't edit!",version:"0.1.0",id:"upmouse",description:"Dragging the map is prioritized over triggering stuff",minimumGameVersion:">=1.5.0",doesNotAffectSavegame:!0,extra:{authors:[{name:"Emerald Block",icon:"https://avatars.githubusercontent.com/u/69981203"}],changelog:{"0.1.0":["Initial release","Support for editing signals, toggling buttons, and interacting with markers"]},source:"https://github.com/EmeraldBlock/shapez.io-mods",readme:"<p>Tried to drag the map but accidentally clicked on something? Fear no more!</p>\n<p>This mod stops that. Instead of triggering when you press your mouse, things trigger when you release your mouse without moving.</p>\n<p>This affects editing signals, toggling buttons, and interacting with markers.</p>\n"}},{Mod:t}=window.shapez,{Signal:n}=window.shapez,{Vector:i}=window.shapez,{enumMouseButton:o}=window.shapez,{HUDConstantSignalEdit:a}=window.shapez,{HUDLeverToggle:s}=window.shapez,{HUDWaypoints:r}=window.shapez,d=[o.left,o.middle,o.right];window.$shapez_registerMod(class extends t{init(){const e=new n;this.signals.gameInitialized.add((t=>{let n=!1;t.canvas.addEventListener("mousedown",(()=>{n=!1})),t.canvas.addEventListener("mousemove",(()=>{n=!0})),t.canvas.addEventListener("mouseup",(t=>{n||e.dispatch(new i(t.clientX,t.clientY),d[t.button])}))})),this.modInterface.runAfterMethod(a,"initialize",(function(){this.root.camera.downPreHandler.remove(this.downPreHandler),e.add(this.downPreHandler,this)})),this.modInterface.runAfterMethod(s,"initialize",(function(){this.root.camera.downPreHandler.remove(this.downPreHandler),e.add(this.downPreHandler,this)})),this.modInterface.runAfterMethod(r,"initialize",(function(){this.root.camera.downPreHandler.remove(this.onMouseDown),e.add(this.onMouseDown,this)}))}},e)})();